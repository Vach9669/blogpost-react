(this["webpackJsonpblogpost-react"]=this["webpackJsonpblogpost-react"]||[]).push([[0],{26:function(e,t,n){e.exports=n(41)},31:function(e,t,n){},32:function(e,t,n){},33:function(e,t,n){},34:function(e,t,n){},39:function(e,t,n){},41:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(11),o=n.n(c),l=n(7),s=n(45);var i=function(e){var t=e.bloggers;return r.a.createElement("div",null,t.map((function(e){return r.a.createElement(s.a,{style:{width:"18rem",margin:"1rem"}},r.a.createElement(s.a.Body,null,r.a.createElement(s.a.Title,null,e.lastname)))})))};var u=function(e){var t=e.posts,n=e.buttonClik,a=e.removePost,c=e.updatePost;return r.a.createElement("div",null,t.map((function(e){return r.a.createElement("div",{className:"Card-post",key:e.id},r.a.createElement(s.a,{style:{margin:"1rem"}},r.a.createElement(s.a.Body,null,r.a.createElement("blockquote",{className:"blockquote mb-0"},r.a.createElement("p",null,e.title),r.a.createElement("footer",{className:"blockquote-footer"},r.a.createElement("cite",{title:"Source Title"},e.description)),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-11",style:{marginTop:"1rem"}},n&&r.a.createElement("button",{className:"btn btn-outline-primary btn-sm",onClick:c.bind(null,e)},"Edit")),r.a.createElement("div",{className:"col",style:{marginTop:"1rem"}},n&&r.a.createElement("button",{className:"btn btn-outline-danger btn-sm",onClick:a.bind(null,e.id)},"Delete")))))))})))},m=n(12),p=n(14),f="https://it-blog-posts.herokuapp.com/api/",d="people/",b="people/login",g=function(){function e(){Object(m.a)(this,e)}return Object(p.a)(e,[{key:"get",value:function(){return fetch("".concat(f).concat(d))}},{key:"getById",value:function(e){return fetch("".concat(f).concat(d).concat(e))}},{key:"getUserPosts",value:function(e){return fetch("".concat(f).concat(d).concat(e,"/posts"))}},{key:"login",value:function(e){return fetch("".concat(f).concat(b),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}},{key:"registration",value:function(e){return fetch("".concat(f).concat(d),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}}]),e}(),E=function(){function e(){Object(m.a)(this,e)}return Object(p.a)(e,[{key:"get",value:function(){return fetch("".concat(f).concat("posts/"))}},{key:"createPost",value:function(e){return fetch("".concat(f).concat("posts/"),{method:"POST",body:JSON.stringify(e),headers:{"Content-Type":"application/json"}})}},{key:"update",value:function(e,t){return fetch("".concat(f).concat("posts/").concat(e),{method:"PUT",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}})}},{key:"remove",value:function(e){return fetch("".concat(f).concat("posts/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json"}})}}]),e}(),v=new function e(){Object(m.a)(this,e),this.people=new g,this.posts=new E};n(31);var h=function(){var e=Object(a.useState)([]),t=Object(l.a)(e,2),n=t[0],c=t[1],o=Object(a.useState)([]),s=Object(l.a)(o,2),m=s[0],p=s[1];return Object(a.useEffect)((function(){v.people.get().then((function(e){return e.json()})).then((function(e){return c(e)})),v.posts.get().then((function(e){return e.json()})).then((function(e){return p(e)}))}),[]),r.a.createElement("div",{className:"container d-flex "},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-4",id:"scroll"},r.a.createElement(i,{bloggers:n})),r.a.createElement("div",{className:"col-8",id:"scroll"},r.a.createElement(u,{posts:m}))))},O=function(){function e(){Object(m.a)(this,e)}return Object(p.a)(e,null,[{key:"set",value:function(e,t){try{var n=JSON.stringify(t);localStorage.setItem(e,n)}catch(a){throw new Error(a.message)}}},{key:"get",value:function(e){try{var t=localStorage.getItem(e);return JSON.parse(t)||null}catch(n){throw new Error(n.message)}}},{key:"remove",value:function(e){try{localStorage.removeItem(e)}catch(t){throw new Error(t.message)}}}]),e}(),y=function(e){var t=e.onClickFunction,n=e.tab3,a=e.isLogged;return r.a.createElement("div",{className:"homelog"},r.a.createElement("ul",{className:"d-flex",style:{listStyle:"none"}},r.a.createElement("li",{className:"nav-item"},"Home"!==n?r.a.createElement("button",{className:"btn-info",onClick:t.bind(null,"Home"),href:"#"},"Home"):null),r.a.createElement("li",{className:"nav-item"},"Login"===n||a?null:r.a.createElement("button",{className:"btn-warning",onClick:t.bind(null,"Login"),href:"#"},"Login")),r.a.createElement("li",{className:"nav-item"},"Registration"===n||a?null:r.a.createElement("button",{className:"btn-danger",onClick:t.bind(null,"Registration"),href:"#"},"Registration")),r.a.createElement("li",{className:"nav-item"},"Workspace"!==n&&a?r.a.createElement("button",{className:"btn-success",onClick:t.bind(null,"Workspace"),href:"#"},"Workspace"):null),a&&r.a.createElement("button",{className:"btn-dark justyfy-flex-end",onClick:function(){O.remove("token"),O.remove("userId"),t("Login")},href:"#"},"LogOut")))},j=n(9);n(32);function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var k=function(e){var t=e.onClickFunction,n=Object(a.useState)({email:"",password:""}),c=Object(l.a)(n,2),o=c[0],s=c[1],i=function(e){var t=e.target,n=t.name,a=t.value;s(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o,Object(j.a)({},n,a)))};return r.a.createElement("div",{className:"col-md-4 col-md-offset-4",id:"login"},r.a.createElement("section",{id:"inner-wrapper",className:"login"},r.a.createElement("article",null,r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group"},r.a.createElement("span",{className:"input-group-addon"},r.a.createElement("i",{className:"fa fa-envelope"}," ")),r.a.createElement("input",{type:"text",value:o.username,name:"email",className:"form-control",placeholder:"Email Address",onChange:i}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group"},r.a.createElement("span",{className:"input-group-addon"},r.a.createElement("i",{className:"fa fa-key"}," ")),r.a.createElement("input",{type:"password",value:o.password,name:"password",className:"form-control",placeholder:"Password",onChange:i}))),r.a.createElement("button",{type:"submit",className:"btn btn-warning btn-block",onClick:function(e){e.preventDefault(),o.email&&o.password?v.people.login(o).then((function(e){if(!e.ok)throw new Error;return e.json()})).then((function(e){O.set("token",e.id),O.set("userId",e.userId),t("Workspace")})).catch((function(){alert("Wrong email or password!")})):alert("Please fill in all fields!")}},"Login")))))};n(33);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var C=function(e){var t=e.onClickFunction,n=Object(a.useState)({email:"",password:"",firstname:"",lastname:""}),c=Object(l.a)(n,2),o=c[0],s=c[1],i=function(e){var t=e.target,n=t.name,a=t.value;s(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},o,Object(j.a)({},n,a)))};return r.a.createElement("div",null,r.a.createElement("div",{className:"col-md-4 col-md-offset-4",id:"login"},r.a.createElement("section",{id:"inner-wrapper",className:"login"},r.a.createElement("article",null,r.a.createElement("form",null,r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group"},r.a.createElement("span",{className:"input-group-addon"},r.a.createElement("i",{className:"fa fa-user"}," ")),r.a.createElement("input",{type:"text",name:"firstname",className:"form-control",placeholder:"First Name",value:o.firstname,onChange:i}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group"},r.a.createElement("span",{className:"input-group-addon"},r.a.createElement("i",{className:"fa fa-user"}," ")),r.a.createElement("input",{type:"text",name:"lastname",className:"form-control",placeholder:"Last Name",value:o.lastname,onChange:i}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group"},r.a.createElement("span",{className:"input-group-addon"},r.a.createElement("i",{className:"fa fa-envelope"}," ")),r.a.createElement("input",{type:"email",className:"form-control",name:"email",placeholder:"Email Address",value:o.email,onChange:i}))),r.a.createElement("div",{className:"form-group"},r.a.createElement("div",{className:"input-group"},r.a.createElement("span",{className:"input-group-addon"},r.a.createElement("i",{className:"fa fa-key"}," ")),r.a.createElement("input",{type:"password",name:"password",className:"form-control",placeholder:"Password",value:o.password,onChange:i}))),r.a.createElement("button",{type:"submit",className:"btn btn-success btn-block",onClick:function(e){e.preventDefault(),o.email&&o.password&&o.firstname&&o.lastname&&v.people.registration(o).then((function(e){if(!e.ok)throw new Error;return e.json()})).then((function(e){t("Login")})).catch((function(){alert("error")}))}},"Registration"))))))},P=(n(34),n(46)),S=n(43),D=n(44);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){Object(j.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var L=function(){var e=O.get("userId")||null,t=Object(a.useState)({}),n=Object(l.a)(t,2),c=n[0],o=n[1],s=Object(a.useState)([]),i=Object(l.a)(s,2),m=i[0],p=i[1],f=Object(a.useState)({title:"",description:""}),d=Object(l.a)(f,2),b=d[0],g=d[1],E=c.firstname,h=c.lastname,y=Object(a.useState)(!1),N=Object(l.a)(y,2),k=N[0],w=N[1],C=function(){return w(!1)},T=function(e){var t,n=e.target,a=n.name,r=n.value;g(I({},b,(t={},Object(j.a)(t,a,r),Object(j.a)(t,"personId",O.get("userId")),Object(j.a)(t,"author","".concat(E," ").concat(h)),t)))};return Object(a.useEffect)((function(){e&&(v.people.getById(e).then((function(e){return e.json()})).then((function(e){o(e)})),v.people.getUserPosts(e).then((function(e){return e.json()})).then((function(e){return p(e)})))}),[]),r.a.createElement("div",{className:"container"},r.a.createElement("div",null,r.a.createElement("h1",null,r.a.createElement("div",{className:"card-header",class:"text-white"},"".concat(c.firstname||"--"," ").concat(c.lastname||"--")))),r.a.createElement("div",{className:"flex  text-primary"},r.a.createElement("div",null,r.a.createElement(P.a,{variant:"success",onClick:function(){return w(!0)}},"Create New Post")),r.a.createElement("div",null,r.a.createElement(u,{buttonClik:!0,posts:m,removePost:function(e){v.posts.remove(e),p(m.filter((function(t){return t.id!==e})))},updatePost:function(e){g(e)}})),r.a.createElement(S.a,{show:k,onHide:C,animation:!1},r.a.createElement(S.a.Header,{closeButton:!0},r.a.createElement(S.a.Title,null,"Create New Post")),r.a.createElement(S.a.Header,null,r.a.createElement(D.a.Control,{name:"title",value:b.title,onChange:T,placeholder:"title"})),r.a.createElement(D.a.Control,{name:"description",as:"textarea",rows:"6",value:b.description,onChange:T,placeholder:"description"}),r.a.createElement(S.a.Footer,null,r.a.createElement(P.a,{variant:"secondary",onClick:C},"Close"),r.a.createElement(P.a,{variant:"primary",onClick:function(){v.posts.createPost(b).then((function(t){t.ok&&(t.json().then((function(e){var t=m.map((function(t){return t.id!==e.id?t:e}));p(t),g(I({},b,{title:"",description:""}))})),v.people.getUserPosts(e).then((function(e){return e.json()})).then((function(e){return p(e)})))}))},onClickCapture:C},"Create")))))};var x=function(){var e=Object(a.useState)({tab1:O.get("token")?"Workspace":"Home"}),t=Object(l.a)(e,2),n=t[0],c=t[1],o=O.get("token");function s(e){c({tab1:e})}return r.a.createElement("div",{className:"App"},r.a.createElement(y,{isLogged:o,tab3:n.tab1,onClickFunction:s}),"Home"===n.tab1&&r.a.createElement(h,null),"Login"===n.tab1&&r.a.createElement(k,{onClickFunction:s}),"Registration"===n.tab1&&r.a.createElement(C,{onClickFunction:s}),"Workspace"===n.tab1&&r.a.createElement(L,{onClickFunction:s}))};n(39),n(40);o.a.render(r.a.createElement(x,null),document.getElementById("root"))}},[[26,1,2]]]);
//# sourceMappingURL=main.2d736f79.chunk.js.map